@model IEnumerable<PrjClienteFinalHerramientas.Models.ListarLibrosNoDevueltos>

@{
    ViewData["Title"] = "ListarLibrosNoDevueltos";
}

<h1>Lista de Libros No Devueltos</h1>
@if (TempData["mensaje"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>@TempData["mensaje"]!</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
<p>
    <a asp-controller="Libro" asp-action="IndexLibros" class="btn btn-info">Regresar</a>
</p>
<div class="table-responsive pt-4">
    <table class="table table-striped table-bordered border-primary">
        <thead>
            <tr>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.PrestamoID)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.UsuarioID)
                </th class="text-center">
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.UsuarioNombre)
                </th class="text-center">
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.LibroID)
                </th class="text-center">
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.LibroTitulo)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.FechaPrestamo)
                </th>
                
                <th class="text-center">Acciones</th>
            </tr>
        </thead>
        <tbody>
    @foreach (var item in Model) {
            <tr>
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.PrestamoID)
                </td">
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.UsuarioID)
                </td>
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.UsuarioNombre)
                </td>
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.LibroID)
                </td>
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.LibroTitulo)
                </td>
                <td class="text-center">
                    @Html.DisplayFor(modelItem => item.FechaPrestamo)
                </td>
                
                <td>
                     <a asp-action="PutRegistrarDevolucionLibro" asp-route-prestamoID="@item.PrestamoID" class="btn btn-primary">
                            <i class="fas fa-undo"></i> Devolver
                        </a>                   
                
                </td>
            </tr>
    }
        </tbody>
    </table>
</div>
<div>
    <p>Cantidad de Libros no devueltos: <strong>@Model.Count()</strong></p>
</div>
